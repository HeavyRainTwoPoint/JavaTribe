<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.javatribe.apicompetition.mapper.StyleShowMapperCustom">
    <resultMap id="BaseResultMap" extends="com.javatribe.apicompetition.mapper.StyleShowMapper.BaseResultMap"
               type="com.javatribe.apicompetition.pojo.po.StyleShow">

    </resultMap>
    <resultMap id="style_show_vo" type="com.javatribe.apicompetition.pojo.vo.StyleShowVO">
        <association property="styleShow" resultMap="BaseResultMap"/>
        <association property="competition"
                     resultMap="com.javatribe.apicompetition.mapper.CompetitionIntroductionMapper.BaseResultMap"/>

    </resultMap>

    <select id="getFirstPage" resultMap="style_show_vo">

        select style_show.*, competition.competition_name
        from t_style_show style_show

                 left join t_competition_introduction competition
                           on style_show.competition_id = competition.competition_id


        where style_show.show_status = 1
          and style_show.delete_status = 0


        limit 30
    </select>

</mapper>