(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe6caf48"],{"32df":function(a,e,t){var r=t("24fb");e=r(!1),e.push([a.i,"#enroll[data-v-7b620a56] .ant-tabs-nav-wrap{width:100%}#enroll[data-v-7b620a56] .ant-tabs-nav-scroll{margin:0!important}#enroll[data-v-7b620a56] .ant-tabs-nav-wrap{margin:0}#enroll[data-v-7b620a56] .ant-tabs-tab{color:#222;display:inline-block;padding:.26vw .156vw;border-radius:.156vw;margin:0 1.563vw 0 0}#enroll[data-v-7b620a56] .ant-tabs-tab-active{color:#fff;display:inline-block;padding:.26vw .156vw;border-radius:.781vw;background:#1b2751;padding:.26vw}#enroll[data-v-7b620a56] .ant-tabs-ink-bar{background:transparent}#enroll[data-v-7b620a56] .ant-tabs-extra-content{float:left!important;padding:.26vw .417vw;line-height:1.5em;margin-right:.521vw}#enroll[data-v-7b620a56] .ant-btn{width:5vw;height:1.875vw;border:.104vw solid #151726;border-radius:.938vw}#enroll[data-v-7b620a56] .ant-btn:focus,#enroll[data-v-7b620a56] .ant-btn:hover{color:#151726}#enroll[data-v-7b620a56] .ant-btn-primary{width:5vw;height:1.875vw;background:#151726;border-radius:.938vw}#enroll[data-v-7b620a56] .ant-btn-primary:focus,#enroll[data-v-7b620a56] .ant-btn-primary:hover{color:#fff}",""]),a.exports=e},"3c78":function(a,e,t){var r=t("32df");"string"===typeof r&&(r=[[a.i,r,""]]),r.locals&&(a.exports=r.locals);var n=t("499e").default;n("62f44e6d",r,!0,{sourceMap:!1,shadowMode:!1})},"466d":function(a,e,t){"use strict";var r=t("d784"),n=t("825a"),i=t("50c4"),o=t("1d80"),l=t("8aa5"),m=t("14c3");r("match",1,(function(a,e,t){return[function(e){var t=o(this),r=void 0==e?void 0:e[a];return void 0!==r?r.call(e,t):new RegExp(e)[a](String(t))},function(a){var r=t(e,a,this);if(r.done)return r.value;var o=n(a),s=String(this);if(!o.global)return m(o,s);var c=o.unicode;o.lastIndex=0;var d,u=[],f=0;while(null!==(d=m(o,s))){var p=String(d[0]);u[f]=p,""===p&&(o.lastIndex=l(s,i(o.lastIndex),c)),f++}return 0===f?null:u}]}))},"487a":function(a,e,t){var r=t("24fb");e=r(!1),e.push([a.i,"#enroll[data-v-7b620a56]{margin:1.563vw 20.885vw;min-height:41.667vw;text-align:left}.enroll-box[data-v-7b620a56]{margin:2.604vw auto}.form-box[data-v-7b620a56]{margin-top:1.042vw;margin-bottom:1.042vw;height:28.646vw;overflow-y:auto;position:relative}.add-del-box[data-v-7b620a56]{padding:0 20.833vw;width:100%;overflow:hidden;float:right;position:relative;z-index:98}.add-teammate[data-v-7b620a56]{background:url(http://javatribe.oss-cn-guangzhou.aliyuncs.com/img/image/match/add-teammate.png);background-size:100% 100%;margin-left:20.833vw;height:1.458vw;width:1.458vw;cursor:pointer;position:relative;z-index:99}.tip-no-data[data-v-7b620a56]{height:15.625vw;line-height:15.625vw;text-align:center;font-size:2.604vw}",""]),a.exports=e},"6f6d":function(a,e,t){var r=t("487a");"string"===typeof r&&(r=[[a.i,r,""]]),r.locals&&(a.exports=r.locals);var n=t("499e").default;n("ca7929a4",r,!0,{sourceMap:!1,shadowMode:!1})},a434:function(a,e,t){"use strict";var r=t("23e7"),n=t("23cb"),i=t("a691"),o=t("50c4"),l=t("7b0b"),m=t("65f0"),s=t("8418"),c=t("1dde"),d=t("ae40"),u=c("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,b=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!u||!f},{splice:function(a,e){var t,r,c,d,u,f,h=l(this),w=o(h.length),_=n(a,w),x=arguments.length;if(0===x?t=r=0:1===x?(t=0,r=w-_):(t=x-2,r=b(p(i(e),0),w-_)),w+t-r>g)throw TypeError(v);for(c=m(h,r),d=0;d<r;d++)u=_+d,u in h&&s(c,d,h[u]);if(c.length=r,t<r){for(d=_;d<w-r;d++)u=d+r,f=d+t,u in h?h[f]=h[u]:delete h[f];for(d=w;d>w-r+t;d--)delete h[d-1]}else if(t>r)for(d=w-r;d>_;d--)u=d+r-1,f=d+t-1,u in h?h[f]=h[u]:delete h[f];for(d=0;d<t;d++)h[d+_]=arguments[d+2];return h.length=w-r+t,c}})},baf3:function(a,e,t){"use strict";t("3c78")},de09:function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"enroll"}},[a.isToken?t("div",[t("a-tabs",{attrs:{"default-active-key":"1"},on:{change:a.callback}},[t("div",{staticClass:"match-tab-tag",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[a._v("选择比赛:")]),a._l(a.competition_info,(function(e,r){return t("a-tab-pane",{key:(r+1).toString(),attrs:{tab:e.competitionName}},[t("div",{staticClass:"enroll-box"},[t("a-form-model",{ref:"ruleForm",refInFor:!0,attrs:{model:a.form,rules:a.rules,"label-col":a.labelCol,"wrapper-col":a.wrapperCol}},[t("div",{staticClass:"form-box"},[t("a-form-model-item",{ref:"name",refInFor:!0,attrs:{label:"参赛队伍名称",prop:"team_name"}},[t("a-input",{model:{value:a.form.team_name,callback:function(e){a.$set(a.form,"team_name",e)},expression:"form.team_name"}})],1),t("a-form-model-item",{ref:"name",refInFor:!0,attrs:{label:"队长姓名",prop:"captain_name"}},[t("a-input",{model:{value:a.form.captain_name,callback:function(e){a.$set(a.form,"captain_name",e)},expression:"form.captain_name"}})],1),t("a-form-model-item",{ref:"name",refInFor:!0,attrs:{label:"队长电话",prop:"captain_tel"}},[t("a-input",{model:{value:a.form.captain_tel,callback:function(e){a.$set(a.form,"captain_tel",e)},expression:"form.captain_tel"}})],1),t("a-form-model-item",{ref:"name",refInFor:!0,attrs:{label:"队长学号",prop:"captain_number"}},[t("a-input",{model:{value:a.form.captain_number,callback:function(e){a.$set(a.form,"captain_number",e)},expression:"form.captain_number"}})],1),t("a-form-model-item",{ref:"name",refInFor:!0,attrs:{label:"队长微信",prop:"captain_wechat"}},[t("a-input",{model:{value:a.form.captain_wechat,callback:function(e){a.$set(a.form,"captain_wechat",e)},expression:"form.captain_wechat"}})],1),t("a-form-model-item",{ref:"name",refInFor:!0,attrs:{label:"队长所在院校",prop:"captain_academy"}},[t("a-input",{model:{value:a.form.captain_academy,callback:function(e){a.$set(a.form,"captain_academy",e)},expression:"form.captain_academy"}})],1),a._l(a.form.teammates,(function(e,r){return t("div",{key:e.index},[t("a-form-model-item",{ref:"name",refInFor:!0,attrs:{label:"队友"+(r+1)+"姓名",prop:"teammates."+r+".studentName",rules:a.rules.teammate_name}},[t("a-input",{model:{value:e.studentName,callback:function(t){a.$set(e,"studentName",t)},expression:"item.studentName"}})],1),t("a-form-model-item",{ref:"name",refInFor:!0,attrs:{label:"队友"+(r+1)+"学号",prop:"teammates."+r+".studentId",rules:a.rules.teammate_number}},[t("a-input",{model:{value:e.studentId,callback:function(t){a.$set(e,"studentId",t)},expression:"item.studentId"}})],1),t("div",{staticClass:"add-del-box"},[r>1?t("a-form-model-item",{staticStyle:{float:"right"}},[t("a-icon",{attrs:{type:"minus-circle"},on:{click:function(t){return a.removeRow(e)}}})],1):a._e()],1)],1)})),t("div",{staticClass:"add-teammate",attrs:{title:"添加队友"},on:{click:a.addRow}})],2),t("a-form-model-item",{attrs:{"wrapper-col":{span:14,offset:4}}},[t("a-button",{attrs:{type:"primary"},on:{click:function(t){return a.onSubmit(e.competitionId)}}},[a._v(" 提交 ")]),t("a-button",{staticStyle:{"margin-left":"180px"},on:{click:a.resetForm}},[a._v(" 重置 ")])],1)],1)],1)])}))],2)],1):t("div",{staticStyle:{"text-align":"center"}},[t("div",{staticClass:"tip-no-data"},[a._v("没有登录!")]),t("button",{on:{click:a.toLogin}},[a._v("跳转登录")])])])},n=[],i=(t("c975"),t("a434"),t("ac1f"),t("466d"),t("ed08")),o=t("f64c"),l={data:function(){return{isToken:"",labelCol:{span:4},wrapperCol:{span:14},other:"",form:{captain_name:"",captain_tel:"",captain_number:"",captain_wechat:"",captain_academy:"",team_name:"",teammates:[{studentName:"",studentId:""}]},rules:{captain_name:[{required:!0,message:"请输入队长的姓名",trigger:"blur"},{min:2,max:5,message:"Length should be 2 to 5",trigger:"blur"}],captain_tel:[{required:!0,message:"请输入电话号码",trigger:"blur"},{min:11,max:11,message:"Length should be 11",trigger:"blur"}],captain_number:[{required:!0,message:"请输入队长学号",trigger:"blur"},{min:9,max:9,message:"Length should be 9",trigger:"blur"}],captain_wechat:[{required:!0,message:"请输入队长微信号",trigger:"blur"},{min:1,max:20,message:"Length should be 1 to 20",trigger:"blur"}],captain_academy:[{required:!0,message:"请输入队长所在学院",trigger:"blur"},{min:2,max:15,message:"Length should be 2 to 15",trigger:"blur"}],team_name:[{required:!0,message:"请输入队伍名称",trigger:"blur"},{min:1,max:10,message:"Length should be 1 to 10",trigger:"blur"}],teammate_name:[{required:!1,message:"请输入队员的姓名",trigger:"blur"},{min:2,max:5,message:"Length should be 2 to 5",trigger:"blur"}],teammate_number:[{required:!1,message:"请输入队员的学号",trigger:"blur"},{min:9,max:9,message:"Length should be 9",trigger:"blur"}]},competition_info:[]}},created:function(){this.isToken=window.sessionStorage.getItem("token"),this.getEnroll()},methods:{callback:function(a){},toLogin:function(){this.$router.push({path:"/home/login"})},onSubmit:i["a"]._debounce((function(a){if(i["a"].checkPhone(this.form.captain_tel))if(i["a"].checknumber(this.form.captain_number))if(i["a"].checkName(this.form.captain_name)){var e={competitionId:a,teamName:this.form.team_name,teamLeaderName:this.form.captain_name,teamLeaderPhone:this.form.captain_tel,teamLeaderStudentId:this.form.captain_number,teamLeaderWechat:this.form.captain_wechat,teamLeaderCollege:this.form.captain_academy,teamUserList:this.form.teammates};e=JSON.stringify(e),this.$api.match.enroll(e).then((function(a){200==a.data.code&&o["a"].success("报名成功！！！")}))}else o["a"].warn("队长名字不正确！！！");else o["a"].warn("队长学号不正确！！！");else o["a"].warn("队长电话不正确！！！")}),200),resetForm:function(){this.$refs.ruleForm.resetFields()},addRow:function(){this.form.teammates.push({studentName:"",studentId:""})},removeRow:function(a){var e=this.form.teammates.indexOf(a);-1!==e&&this.form.teammates.splice(e,1)},getEnroll:function(){var a=this;this.$api.match.getEnroll().then((function(e){200==e.data.code&&(a.competition_info=JSON.parse(e.data.data))}))}}},m=l,s=(t("baf3"),t("f5cf"),t("2877")),c=Object(s["a"])(m,r,n,!1,null,"7b620a56",null);e["default"]=c.exports},f5cf:function(a,e,t){"use strict";t("6f6d")}}]);