(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b4e21ea8"],{"0cb2":function(e,t,a){var r=a("7b0b"),n=Math.floor,i="".replace,o=/\$([$&'`]|\d\d?|<[^>]*>)/g,s=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,a,c,l,d){var u=a+e.length,f=c.length,p=s;return void 0!==l&&(l=r(l),p=o),i.call(d,p,(function(r,i){var o;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,a);case"'":return t.slice(u);case"<":o=l[i.slice(1,-1)];break;default:var s=+i;if(0===s)return r;if(s>f){var d=n(s/10);return 0===d?r:d<=f?void 0===c[d-1]?i.charAt(1):c[d-1]+i.charAt(1):r}o=c[s-1]}return void 0===o?"":o}))}},"0ee8":function(e,t,a){},"14c3":function(e,t,a){var r=a("c6b6"),n=a("9263");e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var i=a.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"1b85":function(e,t,a){"use strict";a("0ee8")},"1dde":function(e,t,a){var r=a("d039"),n=a("b622"),i=a("2d00"),o=n("species");e.exports=function(e){return i>=51||!r((function(){var t=[],a=t.constructor={};return a[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"25f0":function(e,t,a){"use strict";var r=a("6eeb"),n=a("825a"),i=a("d039"),o=a("ad6d"),s="toString",c=RegExp.prototype,l=c[s],d=i((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),u=l.name!=s;(d||u)&&r(RegExp.prototype,s,(function(){var e=n(this),t=String(e.source),a=e.flags,r=String(void 0===a&&e instanceof RegExp&&!("flags"in c)?o.call(e):a);return"/"+t+"/"+r}),{unsafe:!0})},5319:function(e,t,a){"use strict";var r=a("d784"),n=a("825a"),i=a("50c4"),o=a("a691"),s=a("1d80"),c=a("8aa5"),l=a("0cb2"),d=a("14c3"),u=Math.max,f=Math.min,p=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,a,r){var m=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=r.REPLACE_KEEPS_$0,h=m?"$":"$0";return[function(a,r){var n=s(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,n,r):t.call(String(n),a,r)},function(e,r){if(!m&&g||"string"===typeof r&&-1===r.indexOf(h)){var s=a(t,e,this,r);if(s.done)return s.value}var v=n(e),b=String(this),x="function"===typeof r;x||(r=String(r));var y=v.global;if(y){var I=v.unicode;v.lastIndex=0}var E=[];while(1){var N=d(v,b);if(null===N)break;if(E.push(N),!y)break;var $=String(N[0]);""===$&&(v.lastIndex=c(b,i(v.lastIndex),I))}for(var C="",_=0,F=0;F<E.length;F++){N=E[F];for(var S=String(N[0]),A=u(f(o(N.index),b.length),0),L=[],w=1;w<N.length;w++)L.push(p(N[w]));var k=N.groups;if(x){var R=[S].concat(L,A,b);void 0!==k&&R.push(k);var O=String(r.apply(void 0,R))}else O=l(S,b,A,L,k,r);A>=_&&(C+=b.slice(_,A)+O,_=A+S.length)}return C+b.slice(_)}]}))},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var r=a("1d80"),n=a("5899"),i="["+n+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),c=function(e){return function(t){var a=String(r(t));return 1&e&&(a=a.replace(o,"")),2&e&&(a=a.replace(s,"")),a}};e.exports={start:c(1),end:c(2),trim:c(3)}},"65f0":function(e,t,a){var r=a("861d"),n=a("e8b5"),i=a("b622"),o=i("species");e.exports=function(e,t){var a;return n(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?r(a)&&(a=a[o],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},7156:function(e,t,a){var r=a("861d"),n=a("d2bb");e.exports=function(e,t,a){var i,o;return n&&"function"==typeof(i=t.constructor)&&i!==a&&r(o=i.prototype)&&o!==a.prototype&&n(e,o),e}},8418:function(e,t,a){"use strict";var r=a("c04e"),n=a("9bf2"),i=a("5c6c");e.exports=function(e,t,a){var o=r(t);o in e?n.f(e,o,i(0,a)):e[o]=a}},"8aa5":function(e,t,a){"use strict";var r=a("6547").charAt;e.exports=function(e,t,a){return t+(a?r(e,t).length:1)}},9263:function(e,t,a){"use strict";var r=a("ad6d"),n=a("9f7f"),i=RegExp.prototype.exec,o=String.prototype.replace,s=i,c=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=n.UNSUPPORTED_Y||n.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],u=c||d||l;u&&(s=function(e){var t,a,n,s,u=this,f=l&&u.sticky,p=r.call(u),m=u.source,g=0,h=e;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),h=String(e).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==e[u.lastIndex-1])&&(m="(?: "+m+")",h=" "+h,g++),a=new RegExp("^(?:"+m+")",p)),d&&(a=new RegExp("^"+m+"$(?!\\s)",p)),c&&(t=u.lastIndex),n=i.call(f?a:u,h),f?n?(n.input=n.input.slice(g),n[0]=n[0].slice(g),n.index=u.lastIndex,u.lastIndex+=n[0].length):u.lastIndex=0:c&&n&&(u.lastIndex=u.global?n.index+n[0].length:t),d&&n&&n.length>1&&o.call(n[0],a,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(n[s]=void 0)})),n}),e.exports=s},"9f7f":function(e,t,a){"use strict";var r=a("d039");function n(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a434:function(e,t,a){"use strict";var r=a("23e7"),n=a("23cb"),i=a("a691"),o=a("50c4"),s=a("7b0b"),c=a("65f0"),l=a("8418"),d=a("1dde"),u=d("splice"),f=Math.max,p=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var a,r,d,u,h,v,b=s(this),x=o(b.length),y=n(e,x),I=arguments.length;if(0===I?a=r=0:1===I?(a=0,r=x-y):(a=I-2,r=p(f(i(t),0),x-y)),x+a-r>m)throw TypeError(g);for(d=c(b,r),u=0;u<r;u++)h=y+u,h in b&&l(d,u,b[h]);if(d.length=r,a<r){for(u=y;u<x-r;u++)h=u+r,v=u+a,h in b?b[v]=b[h]:delete b[v];for(u=x;u>x-r+a;u--)delete b[u-1]}else if(a>r)for(u=x-r;u>y;u--)h=u+r-1,v=u+a-1,h in b?b[v]=b[h]:delete b[v];for(u=0;u<a;u++)b[u+y]=arguments[u+2];return b.length=x-r+a,d}})},a9e3:function(e,t,a){"use strict";var r=a("83ab"),n=a("da84"),i=a("94ca"),o=a("6eeb"),s=a("5135"),c=a("c6b6"),l=a("7156"),d=a("c04e"),u=a("d039"),f=a("7c73"),p=a("241c").f,m=a("06cf").f,g=a("9bf2").f,h=a("58a8").trim,v="Number",b=n[v],x=b.prototype,y=c(f(x))==v,I=function(e){var t,a,r,n,i,o,s,c,l=d(e,!1);if("string"==typeof l&&l.length>2)if(l=h(l),t=l.charCodeAt(0),43===t||45===t){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+l}for(i=l.slice(2),o=i.length,s=0;s<o;s++)if(c=i.charCodeAt(s),c<48||c>n)return NaN;return parseInt(i,r)}return+l};if(i(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var E,N=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof N&&(y?u((function(){x.valueOf.call(a)})):c(a)!=v)?l(new b(I(t)),a,N):I(t)},$=r?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;$.length>C;C++)s(b,E=$[C])&&!s(N,E)&&g(N,E,m(b,E));N.prototype=x,x.constructor=N,o(n,v,N)}},ac1f:function(e,t,a){"use strict";var r=a("23e7"),n=a("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(e,t,a){"use strict";var r=a("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b727:function(e,t,a){var r=a("0366"),n=a("44ad"),i=a("7b0b"),o=a("50c4"),s=a("65f0"),c=[].push,l=function(e){var t=1==e,a=2==e,l=3==e,d=4==e,u=6==e,f=7==e,p=5==e||u;return function(m,g,h,v){for(var b,x,y=i(m),I=n(y),E=r(g,h,3),N=o(I.length),$=0,C=v||s,_=t?C(m,N):a||f?C(m,0):void 0;N>$;$++)if((p||$ in I)&&(b=I[$],x=E(b,$,y),e))if(t)_[$]=x;else if(x)switch(e){case 3:return!0;case 5:return b;case 6:return $;case 2:c.call(_,b)}else switch(e){case 4:return!1;case 7:c.call(_,b)}return u?-1:l||d?d:_}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},d784:function(e,t,a){"use strict";a("ac1f");var r=a("6eeb"),n=a("d039"),i=a("b622"),o=a("9263"),s=a("9112"),c=i("species"),l=!n((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),u=i("replace"),f=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),p=!n((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));e.exports=function(e,t,a,u){var m=i(e),g=!n((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),h=g&&!n((function(){var t=!1,a=/a/;return"split"===e&&(a={},a.constructor={},a.constructor[c]=function(){return a},a.flags="",a[m]=/./[m]),a.exec=function(){return t=!0,null},a[m](""),!t}));if(!g||!h||"replace"===e&&(!l||!d||f)||"split"===e&&!p){var v=/./[m],b=a(m,""[e],(function(e,t,a,r,n){return t.exec===o?g&&!n?{done:!0,value:v.call(t,a,r)}:{done:!0,value:e.call(a,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),x=b[0],y=b[1];r(String.prototype,e,x),r(RegExp.prototype,m,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}u&&s(RegExp.prototype[m],"sham",!0)}},d81d:function(e,t,a){"use strict";var r=a("23e7"),n=a("b727").map,i=a("1dde"),o=i("map");r({target:"Array",proto:!0,forced:!o},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(e,t,a){var r=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},fb31:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"title"},[e._v("比赛选择")])]),e._l(e.competitionList,(function(t){return a("div",{key:t.competitionId,staticClass:"box"},[a("div",{staticClass:"direction",class:{active:e.competitionId==t.competitionId},on:{click:function(a){return e.getGradeList(t.competitionId)}}},[e._v(" "+e._s(t.competitionName)+" ")])])}))],2),a("div",{staticClass:"bottom"},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card left",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"title"},[e._v("届数")])]),e._l(e.gradeList,(function(t){return a("el-collapse",{key:t.yearId,attrs:{accordion:""},on:{change:function(a){return e.getData(t.yearId)}},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-collapse-item",{attrs:{title:t.yearName,name:t.yearId.toString()}})],1)}))],2),a("el-card",{staticClass:"box-card right",attrs:{border:""}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"title"},[e._v("数据列表")]),a("el-button",{staticClass:"button",on:{click:function(t){e.dialogAddVisible=!0}}},[e._v("+")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",highlightCurrentRow:!0,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-table-column",{attrs:{prop:"teamOrderText",label:"奖项",align:"center"}}),a("el-table-column",{attrs:{prop:"teamName",label:"队伍名称",align:"center"}}),a("el-table-column",{attrs:{prop:"teamUserList",label:"队员姓名",align:"center"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return e.tableData.length>0?[a("el-button",{staticClass:"grey",attrs:{type:"text",icon:"el-icon-edit-outline"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(" 编辑 ")]),a("el-button",{staticClass:"grey",attrs:{type:"text",icon:"el-icon-delete-solid"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(" 删除 ")])]:void 0}}],null,!0)})],1)],1)],1),a("div",{staticClass:"operationHide"},[a("el-dialog",{attrs:{title:"添加",visible:e.dialogAddVisible},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[a("el-form",{attrs:{"label-width":"80px",model:e.addForm}},[a("el-form-item",{attrs:{label:"届数"}},[a("el-input-number",{attrs:{min:1},on:{change:e.changeYear},model:{value:e.addForm.theYear,callback:function(t){e.$set(e.addForm,"theYear",t)},expression:"addForm.theYear"}})],1),a("el-form-item",{attrs:{label:"奖项"}},[a("el-input",{model:{value:e.addForm.teamOrder,callback:function(t){e.$set(e.addForm,"teamOrder",t)},expression:"addForm.teamOrder"}})],1),a("el-form-item",{attrs:{label:"队伍名称"}},[a("el-input",{model:{value:e.addForm.teamName,callback:function(t){e.$set(e.addForm,"teamName",t)},expression:"addForm.teamName"}})],1),a("el-form-item",{attrs:{label:"队员列表"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"使用逗号分割成员姓名",placement:"right"}},[a("el-input",{model:{value:e.addForm.teamUserList,callback:function(t){e.$set(e.addForm,"teamUserList",t)},expression:"addForm.teamUserList"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogAddVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑",visible:e.dialogChangeVisible},on:{"update:visible":function(t){e.dialogChangeVisible=t}}},[a("el-form",{attrs:{"label-width":"80px",model:e.updateForm}},[a("el-form-item",{attrs:{label:"届数"}},[a("el-input-number",{attrs:{min:1},on:{change:e.changeYear},model:{value:e.updateForm.theYear,callback:function(t){e.$set(e.updateForm,"theYear",t)},expression:"updateForm.theYear"}})],1),a("el-form-item",{attrs:{label:"奖项"}},[a("el-input",{model:{value:e.updateForm.teamOrderText,callback:function(t){e.$set(e.updateForm,"teamOrderText",t)},expression:"updateForm.teamOrderText"}})],1),a("el-form-item",{attrs:{label:"队伍名称"}},[a("el-input",{model:{value:e.updateForm.teamName,callback:function(t){e.$set(e.updateForm,"teamName",t)},expression:"updateForm.teamName"}})],1),a("el-form-item",{attrs:{label:"队员列表"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"使用逗号分割成员姓名",placement:"right"}},[a("el-input",{model:{value:e.updateForm.teamUserList,callback:function(t){e.$set(e.updateForm,"teamUserList",t)},expression:"updateForm.teamUserList"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogChangeVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("确 定")])],1)],1)],1)],1)},n=[],i=(a("a9e3"),a("d81d"),a("d3b7"),a("a434"),a("5319"),a("ac1f"),a("25f0"),{name:"Winner",data:function(){return{tableData:[],competitionList:[],gradeList:[],loading:!1,dialogAddVisible:!1,dialogChangeVisible:!1,addForm:{},updateForm:{},competitionId:1,activeName:"1"}},created:function(){this.getData(Number(this.activeName)),this.getCompetitionList()},methods:{getCompetitionList:function(){var e=this;this.$http.get("/competition/competition_introduce").then((function(t){200==t.code&&(e.competitionList=t.data,e.competitionId=t.data[0].competitionId,e.getGradeList(e.competitionId))}))},getGradeList:function(e){var t=this;this.competitionId=e,this.$http.get("/styleShowYears",{competitionId:e}).then((function(e){200==e.code&&(t.gradeList=e.data.map((function(e){return e.yearName="第"+e.theYear+"届",e})))}))},getData:function(e){var t=this;this.loading=!0,this.$http.get("/competition/listOfWinners",{competitionId:this.competitionId,yearId:e}).then((function(e){200==e.code&&e.data.length>0&&(t.tableData=JSON.parse(e.data))})).catch((function(e){t.$message.error("网络异常，请稍后重试")})).finally((function(){t.loading=!1}))},handleDelete:function(e,t){var a=this;this.$confirm("确定删除这一个分类吗？","提示",{type:"warning"}).then((function(){a.$http.delete("/competition/deleteGetPrizesData",{prizeId:t.prizeId,theYear:t.theYear,competitionId:t.competitionId}).then((function(t){200==t.code&&(a.$message({message:"成功删除一条数据",type:"success"}),a.tableData.splice(e,1))}))})).catch((function(){}))},handleEdit:function(e,t){this.updateForm=JSON.parse(JSON.stringify(t)),this.dialogChangeVisible=!0},changeYear:function(e){var t=this;console.log(e);var a=this.gradeList.every((function(t){return t.theYear!=e}));a&&this.$confirm("没有这一届的数据，请先去比赛届数那里添加，点击确定可直接前往","提示",{type:"warning"}).then((function(){t.$router.replace("/activity-year")})).catch((function(){t.addForm.theYear=void 0}))},add:function(){var e=this,t=this.addForm,a=t.theYear,r=t.teamName,n=t.teamOrder,i=t.teamUserList;"undefined"==typeof a?this.$message({message:"请输入届数",type:"warning"}):"undefined"==typeof n?this.$message({message:"请输入获得奖项",type:"warning"}):"undefined"==typeof r?this.$message({message:"请输入队伍名称",type:"warning"}):"undefined"==typeof i?this.$message({message:"请输入队伍成员",type:"warning"}):this.$http.post("/competition/addGetPrizesData",{competitionId:this.competitionId,theYear:a,teamName:r,teamOrder:n,teamUserList:i}).then((function(t){var r;if(200==t.code){e.$message({message:"成功添加一条数据",type:"success"});for(var n=0;n<e.gradeList.length;n++)e.gradeList[n].theYear==a&&(r=e.gradeList[n].yearId);e.getData(r),e.activeName=r.toString(),e.dialogAddVisible=!1,e.addForm={}}401==t.code&&e.$message.error(t.message)}))},update:function(){var e=this,t=this.updateForm,a=t.theYear,r=t.teamName,n=t.teamOrder,i=t.teamUserList,o=t.prizeId;this.$http.put("/competition/editGetPrizesData",{prizeId:o,competitionId:this.competitionId,theYear:a,teamName:r,teamOrder:n,teamUserList:i}).then((function(t){var r;e.dialogChangeVisible=!1,e.$message({message:"成功修改一条数据",type:"success"});for(var n=0;n<e.gradeList.length;n++)e.gradeList[n].theYear==a&&(r=e.gradeList[n].yearId);e.getData(r),e.activeName=r.toString()}))}}}),o=i,s=(a("1b85"),a("2877")),c=Object(s["a"])(o,r,n,!1,null,"9fb962a0",null);t["default"]=c.exports}}]);